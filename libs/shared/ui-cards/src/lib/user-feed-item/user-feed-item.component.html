<a tuiCell="l">
  @if (avatar?.src; as src) {
    <tui-avatar size="m" [src]="src"></tui-avatar>
  } @else {
    @if (avatar?.name; as name) {
      <tui-avatar
        size="m"
        [src]="name | tuiInitials"
        [style.background]="name | tuiAutoColor"
      ></tui-avatar>
    }
  }

  <div tuiTitle>
    <div>
      <span>{{ title }}</span>

      @if (isBlocked) {
        <tui-badge
          class="tui-space_left-2"
          iconLeft="tuiIconLock"
          appearance="neutral"
          size="l"
        >
          Blocked
        </tui-badge>
      }
    </div>
    <div tuiSubtitle>{{ subTitle }}</div>
  </div>

  @if (tooltipText) {
    <tui-tooltip [content]="tooltipText"></tui-tooltip>
  }

  @if (actions.length) {
    <tui-hosted-dropdown tuiDropdownAlign="right" [content]="dropdown">
      <button
        appearance="icon"
        iconLeft="tuiIconMoreHorizontalLarge"
        tuiIconButton
      ></button>
      <ng-template #dropdown let-close="close">
        <tui-data-list>
          <tui-opt-group>
            @for (action of actions; track $index) {
              <button tuiOption (click)="onClickWrapper(close, action.onClick)">
                {{ action.name }}
              </button>
            }
          </tui-opt-group>
        </tui-data-list>
      </ng-template>
    </tui-hosted-dropdown>
  }
</a>
